<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="dao.AccountDao">
	
	<!-- 根据返回的记录数，判断用户名存不存在(1存在，0不存在) -->
	<select id="userNameIsExit" resultType="int">
		SELECT COUNT(*) FROM user WHERE username = #{username};
	</select>
	
	<!-- 根据用户名得到密码，角色id，姓名 -->
	<select id="getUserByUserName" resultType="entity.User">
		SELECT password,name,role_id FROM user WHERE username = #{username};
	</select>

	<!-- 创建一个新账户,插入到用户表中 -->
	<insert id="createAccount">
		INSERT INTO user(username, password, name, role_id, info_id, type_id)
		VALUES(#{userName}, #{password}, #{name}, #{roleId}, #{infoId}, #{typeId})
	</insert>
	
	
	




</mapper>